# 全般 - FAQ

## ログとトレースの違いは何ですか?

ログは、単一のアプリケーションとそれに関連するイベントに限定されます。 たとえば、ユーザーがマイクロサービス プラットフォームでホストされている Web サイトにログインし、そのサイトで購入を行った場合、そのユーザーに関連するログが複数のアプリケーションから発行される可能性があります:

1. フロントエンド Web サーバー  
2. 認証サービス  
3. 在庫サービス
4. 支払い処理バックエンド
5. ユーザーに領収書を送信するアウトバウンド メーラー

これらのそれぞれがそのユーザーについて何かを記録する可能性があり、そのデータはすべて有盡です。 しかし、トレースでは、これらの個別のコンポーネント全体にわたる、その単一のトランザクション内のユーザーの全体的な対話の単一の、一貫したビューが表示されます。

このように、トレースは複数のサービスからのイベントのコレクションで、単一のアクティビティの単一のビューを示すことを目的としているのに対し、ログはそれらを作成したアプリケーションのコンテキストにバインドされます。

## どの種類のシグナルが不変ですか?

3つの基本的なシグナルタイプ([メトリクス](../signals/metrics/)、[ログ](../signals/logs/)、[トレース](../signals/traces/))はすべて不変ですが、この保証の程度には実装による差異があります。例えば、ログの不変性は多くのガバナンスフレームワークで厳格な要件とされており、これを保証するための多くのツールが存在します。同様に、メトリクスとトレースも常に不変である*必要があります*。

これにより、「不正確なデータ」や誤って送信されたデータをどのように処理するかという疑問が生じます。AWS のオブザーバビリティサービスでは、誤って送信されたメトリクスやトレースを削除する機能はありません。CloudWatch Logs ではログストリーム全体を削除できますが、一度収集したデータを遡及的に変更することはできません。これは設計上の意図されたもので、顧客データを最高の注意を払って扱うための重要な機能です。

## なぜイマタビリティがオブザーバビリティにとって重要なのか

イマタビリティはオブザーバビリティにとって極めて重要です。過去のデータが変更できると、システムと運用の進化における*選択*を導く上で欠かせない重要なエラーや挙動の外れ値が失われてしまいます。例えば、大きな時間的ギャップを示すメトリクスのデータポイントは、単にデータ収集の欠落を示しているだけでなく、インフラストラクチャにおけるより大きな問題を示唆している可能性があります。同様に、「ヌル」データでさえも - 空のタイムシリーズでさえ価値があります。

ガバナンスの観点からは、事後的にアプリケーションログやトレースを変更することは、[否認防止](https://en.wikipedia.org/wiki/Non-repudiation) の原則に違反します。これは、システム内のデータがソースアプリケーションによって意図されたとおりであることを信頼できなくなることを意味します。

## ブラスト半径とは

変更のブラスト半径とは、その変更が環境に与える可能性のあるダメージのことです。 たとえば、データベースのスキーマを変更すると、データベース内のデータとそれに依存するすべてのアプリケーションが潜在的なリスクに含まれます。

一般に、変更のブラスト半径を小さくすることはベストプラクティスであり、可能であれば変更を小さく、安全で、元に戻せる塊に分割することが常に推奨されます。

## 「クラウドファースト」アプローチとは

クラウドファースト戦略とは、組織がインフラストラクチャの全部またはほとんど全部をクラウドコンピューティングプラットフォームに移行することです。物理的なリソースの代わりに、クラウド上にリソースを配置します。

オンプレミスのハードウェアに慣れている人にとっては、これは急進的に映るかもしれません。しかし、逆のことも真実です。クラウドファーストのメンタリティを採用する開発者は、サーバーを物理的な場所に縛り付けることを考えられないと思います。クラウドファーストチームは、サーバーを個別のハードウェアや仮想サーバーとは考えません。代わりに、ビジネス機能を満たすためのソフトウェアと考えます。

クラウドファーストは 2010 年代のモバイルファーストに相当し、2000 年代初頭の仮想化に相当します。

## 技術的負債とは

[Wikipedia](https://en.wikipedia.org/wiki/Technical_debt) から引用:

> ソフトウェア開発における技術的負債(デザイン負債やコード負債とも呼ばれる)とは、より良いアプローチを取る代わりに、現時点で簡単な(限定的な)ソリューションを選択することによって、将来的に再開発が必要となることに伴う潜在的コストを指します。

基本的には、レガシーコード、アプリケーション、人的プロセスを削減することなく作業負荷を増やしていくにつれて、時間とともに負債が蓄積されていきます。技術的負債は絶対的な生産性を低下させます。

例えば、ビジネスにほとんどまたは全く直接的な価値をもたらさないレガシーシステムのメンテナンスに時間の 10% を費やさなければならない場合、その 10% は支払う*コスト*です。技術的負債の削減は、価値を付加する新製品を作成するのに実際に費やすことができる時間の増加に等しいのです。

## 関心事の分離とは

オブザーバビリティソリューションのコンテキストでは、関心事の分離とは、ワークロードやアプリケーションの機能領域を個別に管理される別個のコンポーネントに分割することを意味します。各コンポーネントは個別の関心事(ログ構造やログの*エミット*など)に対応します。基礎となるコードを変更することなくコンポーネントの構成を制御することで、開発者はアプリケーションの機能と機能開発に集中でき、DevOps の人物はシステムパフォーマンスの最適化とトラブルシューティングに集中できます。

関心事の分離は、[コンピュータサイエンスの中核的な概念](https://en.wikipedia.org/wiki/Separation_of_concerns)です。

## 運用上の卓越性とは

運用上の卓越性とは、ワークロードの運用に合わせたベストプラクティスの実行です。AWS には Well-Architected フレームワーク全体が運用上の卓越性のために専用されています。運用上の卓越性の概要については、[このページ](https://docs.aws.amazon.com/wellarchitected/latest/operational-excellence-pillar/welcome.html)を参照してください。
